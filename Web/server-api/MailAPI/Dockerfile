# Используем образ Golang для сборки приложения
FROM golang:latest AS builder

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем исходный код приложения в контейнер
COPY . .

# Собираем приложение внутри контейнера
RUN go build -v ./cmd/mailserver

# Запускаем приложение
CMD ["./mailserver"]